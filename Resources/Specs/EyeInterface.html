<?xml version="1.0" encoding="iso-8859-1"?>
<!--
   This document was automatically created using an XSLT stylesheet by Aubrey Barnard.
   See www.stolaf.edu/people/barnard/xml/xml.html for additional information.
   -->
<html xmlns="http://www.w3.org/TR/xhtml1/strict">
<head>
<title>EyeInterface Specification</title>
</head>
<body bgcolor="white">
<div class="specification">
<center>
<p>
<big>
<big>
<big>
<big>EyeInterface Specification</big>
</big>
</big>
</big>
</p>
</center>
<center>
<p>
<big>
<big>
<big>This class contains the position on the screen where the user is looking, as well as all of the necessary functions for gaze tracking.</big>
</big>
</big>
</p>
</center>
<center>
<p>Maxwell Johnson.  May 4th 2015.  Richard Allen.  XML version of specification written by Aubrey Barnard, Wednesday, April 10, 2002</p>
</center>
<br/>
<hr/>
<br/>
<br/>

<dl class="class-spec">
<p>
<dt>
<big>
<strong>CLASS <code>public EyeInterface</code>
</strong>
</big>
</dt>
<dd>

	
<dl class="inheritance">
<p>
<dt>
<strong>No superclass.</strong>
</dt>
<dd/>
</p>
</dl>

<dl class="variables">
<p>
<dt>
<strong>State variables:</strong>
</dt>
<dd>
<dl>
<p>
<dt class="var">
<code>  public int x</code>
</dt>
<dd>x coordinate of gaze position on screen</dd>
</p>
<p>
<dt class="var">
<code>  public int y</code>
</dt>
<dd>y coordinate of gaze position on screen</dd>
</p>
<p>
<dt class="var">
<code>  public CvCapture * capture</code>
</dt>
<dd>poiner to the webcam feed</dd>
</p>
<p>
<dt class="var">
<code>  public cv::Mat frame</code>
</dt>
<dd>matrix used to calculate face position</dd>
</p>
<p>
<dt class="var">
<code>  public int counter</code>
</dt>
<dd>Used to limit the rate of calculations so as not to slow down the game</dd>
</p>
<p>
<dt class="var">
<code>  public int blinkCount</code>
</dt>
<dd>Increments each time a blink is detected</dd>
</p>
</dl>
</dd>
</p>
</dl>

<dl class="constructors-list">
<p>
<dt>
<strong>Constructors:</strong>
</dt>
<dd>
<dl>

<p>
<dt class="constructor">
<code> EyeInterface</code>
</dt>
<dd>
<dl>
Default Constructor
<p>
<dt class="arguments">No arguments.</dt>
<dd/>
</p>
<p>
<dt>State change:</dt>
<dd>Sets initial values for all variables to default</dd>
</p>
</dl>
</dd>
</p>


</dl>
</dd>
</p>
</dl>

<dl class="destructor">
<p>
<dt>
<strong>Destructor:</strong>
</dt>
<dd>
<dl>
<dt class="destructor">
<code> 
      ~EyeInterface</code>
</dt>
<dd>
<dl>
default destructor
<p>
<dt>State change:</dt>
<dd>Deletes all dynamically allocated memory, and frees the webcam feed</dd>
</p>
</dl>
</dd>
</dl>
</dd>
</p>
</dl>

<dl class="methods-list">
<p>
<dt>
<strong>Methods:</strong>
</dt>
<dd>
<dl>

<p>
<dt class="method">
<code> void update</code>
</dt>
<dd>
<dl>
Calculates gaze position
<p>
<dt class="arguments">No arguments.</dt>
<dd/>
</p>
<p>
<dt>State change:</dt>
<dd>Runs the functions necessary to to calculate gaze position at the appropriate rate.</dd>
</p>
<p>
<dt>Return value:</dt>
<dd>No return value.</dd>
</p>
</dl>
</dd>
</p>

<p>
<dt class="method">
<code> void findEyes</code>
</dt>
<dd>
<dl>
Calculates simulated distance to user's face and sets a value to distance accordingly
<p>
<dt class="arguments">Arguments:</dt>
<dd>
<dl>
<p>
<dt class="arg">
<code>cv::Mat frame_gray</code>
</dt>
<dd/>
</p>
<p>
<dt class="arg">
<code>cv::Rect face</code>
</dt>
<dd/>
</p>
</dl>
</dd>
</p>
<p>
<dt>State change:</dt>
<dd>Uses the webcam feed, face position and pupil position to mathematically calculate the appropriate values for x and y</dd>
</p>
<p>
<dt>Return value:</dt>
<dd>No return value.</dd>
</p>
</dl>
</dd>
</p>


<p>
<dt class="method">
<code> void detectAndDisplay</code>
</dt>
<dd>
<dl>
Finds the face position
<p>
<dt class="arguments">Arguments:</dt>
<dd>
<dl>
<p>
<dt class="arg">
<code>cv::Mat frame</code>
</dt>
<dd/>
</p>
</dl>
</dd>
</p>
<p>
<dt>State change:</dt>
<dd>Parses the webcam feed into an image and runs the OpenCV algorithm to detect the face</dd>
</p>
<p>
<dt>Return value:</dt>
<dd>No return value.</dd>
</p>
</dl>
</dd>
</p>

<p>
<dt class="method">
<code> void mouse</code>
</dt>
<dd>
<dl>
Turns on mouse controls if webcam is not plugged in
<p>
<dt class="arguments">Arguments:</dt>
<dd>
<dl>
<p>
<dt class="arg">
<code>int button</code>
</dt>
<dd/>
</p>
<p>
<dt class="arg">
<code>int state</code>
</dt>
<dd/>
</p>
<p>
<dt class="arg">
<code>int x</code>
</dt>
<dd/>
</p>
<p>
<dt class="arg">
<code>int y</code>
</dt>
<dd/>
</p>
</dl>
</dd>
</p>
<p>
<dt>State change:</dt>
<dd>If webcam is not plugged in, set left click to be a blink</dd>
</p>
<p>
<dt>Return value:</dt>
<dd>No return value.</dd>
</p>
</dl>
</dd>
</p>

<p>
<dt class="method">
<code> void mouse_motion</code>
</dt>
<dd>
<dl>
Turns on mouse controls if webcam is not plugged in
<p>
<dt class="arguments">Arguments:</dt>
<dd>
<dl>
<p>
<dt class="arg">
<code>int x</code>
</dt>
<dd/>
</p>
<p>
<dt class="arg">
<code>int y</code>
</dt>
<dd/>
</p>
</dl>
</dd>
</p>
<p>
<dt>State change:</dt>
<dd>If webcam is not plugged in, x and y to be mouse x and y</dd>
</p>
<p>
<dt>Return value:</dt>
<dd>No return value.</dd>
</p>
</dl>
</dd>
</p>

</dl>
</dd>
</p>
</dl>

</dd>
<dt>
<hr/>
</dt>
<dd/>
</p>
</dl>

</div>
</body>
</html>
